{
  "id": "e911672f-3d03-4a9d-a3b5-c5ecbadae905",
  "name": "run",
  "friendlyName": "Run YUNIQL CLI",
  "description": "Run YUNIQL CLI",
  "helpMarkDown": "This runs database migration with yuniql-cli",
  "author": "Rodel E. Dagumampan",

  "preview": true,
  "showEnvironmentVariables": false,
  "runsOn": [
    "Agent",
    "MachineGroup",
    "Server"
  ],
  "category": "Azure Pipelines",
  "version": {
    "Major": 0,
    "Minor": 8,
    "Patch": 0
  },

  "instanceNameFormat": "Run YUNIQL CLI",
  "inputs": [
    {
      "type": "string",
      "name": "version",
      "label": "Version",
      "defaultValue": "0.1.0-alpha",
      "required": false,
      "helpMarkDown": "The version of YUNIQL CLI. If omitted, the latest version of yuniql-cli is installed. Visit the [releases](https://github.com/rdagumampan/yuniql/releases) to get an appropriate version."
    },
    {
      "name": "connectionString",
      "label": "Database connection string",
      "type": "string",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "The connection string to your target database server."
    },
    {
      "name": "workspacePath",
      "label": "Target workspace directory",
      "type": "string",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "The location of your version directories to run."
    },
    {
      "name": "targetPlatform",
      "label": "Target platform",
      "type": "pickList",
      "required": true,
      "defaultValue": "SqlServer",
      "options": {
          "sqlserver": "SqlServer",
          "postgresql": "PostgreSql",
          "mysql": "MySql"
      },
      "helpMarkDown": "The target database platform. Default is SqlServer."
    },
    {
      "name": "autoCreateDatabase",
      "label": "Auto-create target database",
      "type": "boolean",
      "required": false,
      "defaultValue": "false",
      "helpMarkDown": "When true, creates and configure the database in the target server for yuniql migrations."
    },
    {
      "name": "targetVersion",
      "label": "Target version",
      "type": "string",
      "defaultValue": "latest",
      "required": false,
      "helpMarkDown": "The maximum target database version to run to."
    },
    {
      "name": "tokenKeyValuePair",
      "label": "Token key/value pairs",
      "type": "string",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Token key/value pairs for token replacement."
    },
    {
      "name": "additionalArguments",
      "label": "Arguments",
      "type": "string",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Additional CLI arguments"
    }
  ],
  "execution": {
    "Node": {
      "target": "runyuniql.js",
      "argumentFormat": ""
    }
  }
}
