{
    "id": "7bc5c778-e949-4435-b156-b00c4ede3e35",
    "name": "SCVMM",
    "friendlyName": "SCVMM",
    "description": "Manage Vms with SCVMM",
    "helpMarkDown": "[More Information](http://go.microsoft.com/fwlink/?LinkID=616089)",
    "category": "Deploy",
    "visibility": [
    "Build",
    "Release"
    ],
    "author": "Microsoft Corporation",
    "version": {
        "Major": 0,
        "Minor": 0,
        "Patch": 6
    },
    "demands": [
    "SCVMMAdminConsole"
    ],
    "minimumAgentVersion": "1.95.0",
    "inputs": [
    {
        "name": "connectedServiceName",
        "type": "connectedService:SCVMM",
        "label": "SCVMM Service Connection",
        "defaultValue": "",
        "required": true,
        "helpMarkDown": "SCVMM connection to configure before running any SCVMM operation"
    },
    {
        "name": "Action",
        "type": "pickList",
        "label": "Action",
        "defaultValue": "Restore",
        "required": true,
        "options": {
            "Restore": "Restore Checkpoint",
            "CreateChekPoint": "Create Checkpoint",
            "DeleteChekPoint": "Delete Checkpoint",
            "StopVM": "Stop VirtualMachine",
            "StartVM": "Start VirtualMachine"
        },
        "helpMarkDown": "Action to be performed on the SCVMM virtual machines."
    },
    {
        "name": "VMList",
        "type": "string",
        "label": "Virtual Machine Names",
        "defaultValue": "",
        "required": true,
        "helpMarkDown": "Provide a comma separated list of the virtual machine's names. For example, FabrikamWeb, FabrikamDB, FabrikamTest."
    },
    {
        "name": "checkPointName",
        "type": "string",
        "label": "Checkpoint Name",
        "defaultValue": "",
        "required": true,
        "helpMarkDown": "Check point name",
        "visibleRule": "Action = Restore || Action = CreateChekPoint || Action = DeleteChekPoint"
    },
    {
        "name": "CheckPointDescription",
        "type": "string",
        "label": "Description For Checkpoint",
        "defaultValue": "",
        "required": false,
        "visibleRule": "Action = CreateChekPoint",
        "helpMarkDown": "Provide the Description for new checkPointName"
    },
    {
        "name": "ScopeFilter",
        "type": "pickList",
        "label": "Select VMs From",
        "required": false,
        "defaultValue": "None",
        "options": {
            "None": "None",
            "CloudFiltering": "Cloud",
            "HostFiltering": "Host"
        },
        "visibleRule": "Action = Restore || Action = CreateChekPoint || Action = DeleteChekPoint || Action = StopVM || Action = StartVM",
        "helpMarkDown": "Select the filter for Virtual Machine"
    },
    {
        "name": "CloudFilter",
        "type": "string",
        "label": "Cloud Name",
        "defaultValue": "",
        "required": false,
        "helpMarkDown": "Cloud name to filter the VM",
        "visibleRule": "ScopeFilter = CloudFiltering"
    },
    {
        "name": "HostFilter",
        "type": "string",
        "label": "Host Name",
        "defaultValue": "",
        "required": false,
        "helpMarkDown": "Host name to filter the VM",
        "visibleRule": "ScopeFilter = HostFiltering"
    },
    {
        "name": "VMOperationTimeOut",
        "type": "string",
        "label": "Wait Time",
        "defaultValue": "600",
        "required": false,
        "helpMarkDown": "The amount of time (in seconds) to wait for this task to complete. Default value: 600 seconds",
        "visibleRule": "Action = StartVM || Action = Restore"
    }
    ],
    "instanceNameFormat": "SCVMM :$(Action) action on $(VMList)",
    "execution": {
        "PowerShell": {
            "target": "$(currentDirectory)\\scvmm.ps1",
            "argumentFormat": "",
            "workingDirectory": "$(currentDirectory)"
        }
    }
}
