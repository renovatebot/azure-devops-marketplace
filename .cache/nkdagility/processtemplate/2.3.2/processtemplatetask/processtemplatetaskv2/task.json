{
  "id": "63823D31-810C-4957-9BC1-859757ACE94D",
  "name": "processtemplatetask",
  "friendlyName": "VSTS Process Importer",
  "description": "Deploys an XML Process to VSTS",
  "helpMarkDown": "v2.3.2.1 [More Information](https://github.com/nkdAgility/vsts-process-template-task#readme)",
  "category": "Deploy",
  "visibility": [
    "Build",
    "Release"
  ],
  "runsOn": [
    "Agent"
  ],
  "author": "naked Agility Limited - Martin Hinshelwood",
  "version": {
    "Major": "2",
    "Minor": "3",
    "Patch": "2"
  },
  "minimumAgentVersion": "1.92.0",
  "groups": [
    {
      "name": "Overrides",
      "displayName": "Override defaults set in your Process Template .zip",
      "isExpanded": true
    }
  ],
  "inputs": [
    {
      "name": "processTemplateService",
      "type": "connectedService:ProcessTemplateEndpoint",
      "label": "end point",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Select the end point to use. If needed, click on 'manage', and add a new Service Endpoint of type 'Fabrikam server connection'"
    },
    {
      "name": "account",
      "type": "string",
      "label": "VSTS Account URL",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "The URL of the VSTS instance to deploy the Template too. e.g. https://myaccount.visualstudio.com"
    },
    {
      "name": "matchProcessTemplates",
      "type": "filePath",
      "label": "Process Template",
      "defaultValue": "$(System.DefaultWorkingDirectory)\\*.zip",
      "required": true,
      "helpMarkDown": "Search for one or more process templates to upload. Support wildcards."
    },
    {
      "name": "overrideGuid",
      "type": "string",
      "label": "Process Template GUID Override",
      "defaultValue": "",
      "required": false,
      "groupName":  "Overrides",
      "helpMarkDown": "The GUID of the process you would like to overwrite. Note that if there is significant diference between the in place template and the new one you will need to do a manual upload."
    }
  ],
  "instanceNameFormat": "Uploads template to $(account)",
  "execution": {
    "PowerShell3": {
      "target": "$(currentDirectory)\\upload-process-template.ps1",
      "argumentFormat": "",
      "workingDirectory": "$(System.DefaultWorkingDirectory)"
    }
  }
}