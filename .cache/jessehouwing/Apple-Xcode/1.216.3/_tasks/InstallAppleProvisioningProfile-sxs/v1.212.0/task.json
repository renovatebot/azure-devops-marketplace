{
  "visibility": [
    "Build",
    "Release"
  ],
  "name": "InstallAppleProvisioningProfile-sxs",
  "helpUrl": "https://docs.microsoft.com/azure/devops/pipelines/tasks/utility/install-apple-provisioning-profile",
  "friendlyName": "Install Apple provisioning profile (Side-by-side)",
  "id": "7ed4dab3-0331-5132-a663-e40d70a9e1be",
  "restrictions": {
    "settableVariables": {
      "allowed": [
        "provisioningProfileUuid",
        "provisioningProfileName",
        "APPLE_PROV_PROFILE_UUID"
      ]
    },
    "commands": {
      "mode": "restricted"
    }
  },
  "runsOn": [
    "Agent",
    "DeploymentGroup"
  ],
  "instanceNameFormat": "Install an Apple provisioning profile",
  "inputs": [
    {
      "name": "provisioningProfileLocation",
      "required": true,
      "defaultValue": "secureFiles",
      "type": "pickList",
      "helpMarkDown": "Select the location of the provisioning profile to install. The provisioning profile can be uploaded to `Secure Files` or stored in your source repository or a local path on the agent.",
      "options": {
        "secureFiles": "Secure Files",
        "sourceRepository": "Source Repository"
      },
      "label": "Provisioning profile location"
    },
    {
      "visibleRule": "provisioningProfileLocation == secureFiles",
      "name": "provProfileSecureFile",
      "required": true,
      "defaultValue": "",
      "type": "secureFile",
      "helpMarkDown": "Select the provisioning profile that was uploaded to `Secure Files` to install on the macOS agent.",
      "label": "Provisioning profile"
    },
    {
      "visibleRule": "provisioningProfileLocation == sourceRepository",
      "name": "provProfileSourceRepository",
      "required": true,
      "defaultValue": "",
      "type": "filePath",
      "helpMarkDown": "Select the provisioning profile from the source repository or specify the local path to a provisioning profile on the macOS agent.",
      "label": "Provisioning profile"
    },
    {
      "name": "removeProfile",
      "required": false,
      "defaultValue": true,
      "type": "boolean",
      "helpMarkDown": "Select to specify that the provisioning profile should be removed from the agent after the build or release is complete.",
      "label": "Remove profile after build"
    }
  ],
  "version": {
    "Major": 1,
    "Patch": 0,
    "Minor": 212
  },
  "postjobexecution": {
    "Node10": {
      "target": "postinstallprovprofile.js",
      "argumentFormat": ""
    },
    "Node16": {
      "target": "postinstallprovprofile.js",
      "argumentFormat": ""
    }
  },
  "execution": {
    "Node10": {
      "target": "installprovprofile.js",
      "argumentFormat": ""
    },
    "Node16": {
      "target": "installprovprofile.js",
      "argumentFormat": ""
    }
  },
  "prejobexecution": {
    "Node10": {
      "target": "preinstallprovprofile.js",
      "argumentFormat": ""
    },
    "Node16": {
      "target": "preinstallprovprofile.js",
      "argumentFormat": ""
    }
  },
  "description": "Install an Apple provisioning profile required to build on a macOS agent machine",
  "messages": {
    "InputProvisioningProfileNotFound": "Provisioning profile to be installed was not found at %s. Specify the full file path to a provisioning profile.",
    "InstallRequiresMac": "Install Apple Provisioning Profile requires a macOS agent. Installing on Windows or Linux is not supported by Apple.",
    "InvalidMobileProvisionFileExtension": "Provisioning profile file should have the extension '.mobileprovision' or '.provisionprofile'"
  },
  "demands": [
    "xcode"
  ],
  "outputVariables": [
    {
      "name": "provisioningProfileUuid",
      "description": "The UUID property for the selected provisioning profile."
    },
    {
      "name": "provisioningProfileName",
      "description": "The Name property for the selected provisioning profile."
    }
  ],
  "category": "Utility",
  "minimumAgentVersion": "2.182.1",
  "author": "Microsoft Corporation",
  "helpMarkDown": "[Learn more about this task](https://go.microsoft.com/fwlink/?LinkID=862068)"
}
